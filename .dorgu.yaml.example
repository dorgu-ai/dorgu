# .dorgu.yaml - Organization standards configuration
# Copy this file to .dorgu.yaml and customize for your organization

version: "1"

# Organization info
org:
  name: "my-company"

# Naming conventions
naming:
  # Pattern for resource names (supports: {app}, {env}, {team})
  pattern: "{app}"
  # Ensure DNS-compatible names
  dns_safe: true

# Default resource allocations
resources:
  defaults:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"
  # Resource profiles for different app types
  profiles:
    api:
      requests:
        cpu: "100m"
        memory: "256Mi"
      limits:
        cpu: "1000m"
        memory: "1Gi"
    worker:
      requests:
        cpu: "500m"
        memory: "512Mi"
      limits:
        cpu: "2000m"
        memory: "2Gi"
    web:
      requests:
        cpu: "50m"
        memory: "128Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"

# Required labels for all resources
labels:
  required:
    - "app.kubernetes.io/name"
    - "app.kubernetes.io/managed-by"
  custom:
    # Add custom labels here
    # "company.com/team": "platform"

# Annotations
annotations:
  custom:
    "prometheus.io/scrape": "true"

# Security policies
security:
  pod_security_context:
    run_as_non_root: true
    seccomp_profile:
      type: RuntimeDefault
  container_security_context:
    allow_privilege_escalation: false
    read_only_root_filesystem: true
    capabilities:
      drop:
        - ALL

# Ingress configuration
ingress:
  class: "nginx"
  domain_suffix: ".apps.local"
  tls:
    enabled: true
    cluster_issuer: "letsencrypt-prod"

# ArgoCD configuration
argocd:
  project: "default"
  destination:
    server: "https://kubernetes.default.svc"
  sync_policy:
    automated:
      prune: true
      self_heal: true

# CI/CD configuration
ci:
  provider: "github-actions"
  registry: "ghcr.io/my-company"

# LLM configuration
llm:
  provider: "openai"  # openai, anthropic, ollama
  model: "gpt-4"
